<!DOCTYPE HTML>
<html>
	<head>
		<title>UG666-撑伞少年</title>
		<meta charset="utf-8" />
		<link rel="icon" href="./images/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.css" rel="stylesheet">
		<link rel="stylesheet" href="./assets/css/me.css" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<style>
			/*滚动条宽度*/
			::-webkit-scrollbar {
				width: 6px;
				height: 6px;
			}
			/*滚动条轨道*/
			::-webkit-scrollbar-track {
				background: transparent;
				border-radius: 2px;
			}
			/*小滑块*/
			::-webkit-scrollbar-thumb {
				background: rgb(76,86,96);
				border-radius: 10px;
			}
			::-webkit-scrollbar-thumb:hover {
				background: rgb(66,76,86);
			}
		</style>

		<script src="./assets/js/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/markdown.js/0.5.0/markdown.min.js"></script>
		<script>
			function getQueryString(name) {
				const url_string = window.location.href
				const url = new URL(url_string);
				return url.searchParams.get(name);
			}

			$(function() {
				$.ajax({
					url: "./json/essay.json",//同文件夹下的json文件路径
					type: "GET",//请求方式为get
					dataType: "json", //返回数据格式为json
					async:false,
					success: function(data) {//请求成功完成后要执行的方法
						//获取jsonTip的div
						const $jsontip = $("#content");
						const $title = $("#title");
						const $date = $("#date");
						const $image = $("#image");
						//存储数据的变量
						let strHtml = "";
						let title = "";
						let date = "";
						//清空内容
						$jsontip.empty();
						let essayId = getQueryString("essayId")
						if(essayId === undefined || essayId === null || essayId === ""){
							location.href = "./404.html"
						}

						//遍历数据
						$.each(data, function(infoIndex, info) {
							if(info['essayId'] === essayId){
								strHtml += markdown.toHTML(info['content'])
								title += info['title']
								date += info['date']
								$image.attr("src", info['img'])
							}
						})
						if (strHtml === ""){
							location.href = "./404.html"
						}
						//显示处理后的数据
						$jsontip.html(strHtml);
						$title.html(title);
						$date.html(date);
					}
				})
			})
		</script>
	</head>
	<body class="landing is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<h1><a href="index.html">UG666</a></h1>
						<nav id="nav">
							<ul>
								<li class="special">
									<a href="#menu" class="menuToggle"><span>Menu</span></a>
									<div id="menu">
										<ul>
											<li><a href="./index.html">主页</a></li>
											<li><a href="./resources.html">资源库</a></li>
											<li><a href="./pictures.html">照片墙</a></li>
											<li><a href="./about.html">关于我</a></li>
										</ul>
									</div>
								</li>
							</ul>
						</nav>
					</header>


				<!--顶部背景图片-->
				<div class="m-bg-type_outer" style="width: 100%;height: 18em;">
					<img id="image" src="" alt="" class="ui m-bg image" style="width: 100%;height: 100%;">
					<div class="m-bg-class_cover">
						<div class="ui container" style="position: relative ;bottom: -540px;">
							<h2 id="title" class="m-font-size-title-large" align="center">文章页</h2>
							<div class="ui container" align="center" style="margin-top: -20px">
								<div class="ui horizontal link list" align="center">
									<div class="item">
										<div class="ui orange basic label" style="font-size: 7px">转载</div>
									</div>
									<div class="item">
										<i class="user outline outline icon m-font-size-text-mini"></i>
										<a href="#" style="color: #ffffff;font-size: 15px">UG666</a>
									</div>
									<div class="item">
										<i class="calendar icon m-font-size-text-mini"></i>
										<span id="date" class="m-font-size-text-mini">2023-10-01</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!--中间内容-->
				<div id="waypoint" class="m-margin- animated fadeIn">
					<div class="ui container m-opacity box-shadow-max">
						<!--内容-->
						<div class="ui attached padded segment">
							<!--中间主要内容部分-->
							<div id="content" class="typo typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large" style="color: black">

							</div>
							<div class="ui horizontal divider">end</div>
						</div>
						<div id="goto" class="ui attached positive message">
							<!--博客信息-->
							<div class="ui middle aligned stackable grid">
								<div class="nine wide column">
									<ui class="list">
										<li>作者：<span>UG666</span><a href="#" target="_blank">（联系作者）</a></li>
										<li>发表时间：<span>2023-10-01 21:10</span></li>
										<li>版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）</li>
										<li>转载声明：如果是转载博主转载的文章，请附上原文链接</li>
									</ui>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!--置顶图标-->
				<div id="toolbar" class="m-padded-tb-large m-fixed m-right-bottom">
					<a href="#" class="ui teal icon button" style="writing-mode: vertical-rl;padding-bottom: 85px">返回顶部</a>
				</div>



				<!-- Footer -->
					<footer id="footer">
						<ul class="icons">
							<li><a href="https://twitter.com/uguang666" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="https://www.facebook.com/uguang2003" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="https://github.com/uguang2003" class="icon brands fa-github"><span class="label">Github</span></a></li>
							<li><a href="https://t.me/uguang666/" class="icon brands fa-telegram"><span class="label">Telegram</span></a></li>
							<li><a href="https://www.tiktok.com/@ug666666?is_from_webapp=1&sender_device=pc" class="icon brands fa-tiktok"><span class="label">TikTok</span></a></li>
							<li><a href="mailto:uguang2003@email.com" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
						</ul>
						<div style="color: #919397;margin: 1em 0" class="ui inverted m-text-thin m-text-spaced">客栈已营业:<span id="htmer_time" class="item m-text-thin"></span>(❁´◡`❁)</div>
						<ul class="copyright">
							<li>&copy; UG666</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.js"></script>

			<script>

				// 运行时间统计
				function secondToDate(second) {
					if (!second) {
						return 0;
					}
					const time = [0, 0, 0, 0, 0];
					if (second >= 365 * 24 * 3600) {
						time[0] = parseInt(second / (365 * 24 * 3600));
						second %= 365 * 24 * 3600;
					}
					if (second >= 24 * 3600) {
						time[1] = parseInt(second / (24 * 3600));
						second %= 24 * 3600;
					}
					if (second >= 3600) {
						time[2] = parseInt(second / 3600);
						second %= 3600;
					}
					if (second >= 60) {
						time[3] = parseInt(second / 60);
						second %= 60;
					}
					if (second > 0) {
						time[4] = second;
					}
					return time;
				}
				function setTime() {
					/*此处为网站的创建时间*/
					const create_time = Math.round(new Date(Date.UTC(2023, 3 - 1, 24, 19, 0, 0)).getTime() / 1000);
					const timestamp = Math.round((new Date().getTime() + 8 * 60 * 60 * 1000) / 1000);
					const currentTime = secondToDate((timestamp - create_time));
					const currentTimeHtml = currentTime[0] + '年' + currentTime[1] + '天'
							+ currentTime[2] + '时' + currentTime[3] + '分' + currentTime[4]
							+ '秒';
					document.getElementById("htmer_time").innerHTML = currentTimeHtml;
				}
				setInterval(setTime, 1000);

			</script>

			<!--鼠标点击后显示的样式-->
			<canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;"></canvas>
			<script type="text/javascript" src="./assets/js/djtx.js"></script>

	</body>
</html>
